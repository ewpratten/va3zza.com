<!DOCTYPE html>
<html lang="en">

<head>
    



    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-KFJ95RP');</script>
    <!-- End Google Tag Manager -->

    

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/jpg" href="https:&#x2F;&#x2F;avatars.githubusercontent.com&#x2F;u&#x2F;21065412" />
    
    <link rel="canonical" href="https:&#x2F;&#x2F;ewpratten.com&#x2F;blog&#x2F;scrapingfrcgithub&#x2F;" />
    

    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://ewpratten.com/ rss.xml">
    <link rel="webmention" href="https://webmention.io/ewpratten.com/webmention" />
    <link rel="pingback" href="https://webmention.io/ewpratten.com/xmlrpc" />

    <title>
Scraping FRC team&#x27;s GitHub accounts to gather large amounts of data
 | Evan Pratten</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&family=Urbanist:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://maxst.icons8.com">
    <link rel="stylesheet"
        href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="/styles/layout.css">
    <link rel="stylesheet" href="/styles/project_mosaic.css">


    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css"
        integrity="sha512-Oy18vBnbSJkXTndr2n6lDMO5NN31UljR8e/ICzVPrGpSud4Gkckb8yUpqhKuUNoE+o9gAb4O/rAxxw1ojyUVzg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <meta name="twitter:card" content="summary" />
    <meta name="og:site" content="ewpratten.com" />
    <meta name="og:image" content="https:&#x2F;&#x2F;avatars.githubusercontent.com&#x2F;u&#x2F;21065412" />
    <meta name="twitter:creator" content="@ewpratten">
    <meta name="og:site_name" content="Evan Pratten (VA3ZZA)" />

    






<meta property="og:title" content="Scraping FRC team&#x27;s GitHub accounts to gather large amounts of data - Evan Pratten" />
<meta property="og:type" content="article" />

<meta property="og:description" content="There are a lot of teams..." />
<meta property="description" content="There are a lot of teams..." />

<meta property="article:published_time" content="2019-07-06T00:00:00" />









<script type="application/ld+json">
    
    
    
    {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "url": "https://ewpratten.com/blog/scrapingfrcgithub/",
    "headline": "Scraping FRC team's GitHub accounts to gather large amounts of data",
    "dateCreated": "2019-07-06T00:00:00",
    "datePublished": "2019-07-06T00:00:00",
    "dateModified": "2019-07-06T00:00:00",
    "inLanguage": "en-CA",
    "isFamilyFriendly": "true",
    "accountablePerson": {
        "@type": "Person",
        "name": "Evan Pratten",
        "url": "https://ewpratten.com"
    },
    "author": {
        "@type": "Person",
        "name": "Evan Pratten",
        "url": "https://ewpratten.com"
    },
    "creator": {
        "@type": "Person",
        "name": "Evan Pratten",
        "url": "https://ewpratten.com"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Evan Pratten",
        "url": "https://ewpratten.com",
        "logo": {
            "@type": "ImageObject",
            "url": "https://avatars.githubusercontent.com/u/21065412",
            "width": "460",
            "height": "460"
        }
    },
    "mainEntityOfPage": "True",
    "keywords": [],
    "genre": [],
    "articleSection": "Blog Post",
    "__articleBody__": "{{content}}"
}
</script>






</head>

<body>
    <div class="container">
        <div class="profile-card">
            
<div class="row">
    <div class="headshot-container">
        <img src="https:&#x2F;&#x2F;avatars.githubusercontent.com&#x2F;u&#x2F;21065412" alt="Headshot" style="height:50px;width:auto;">
    </div>
    <div class="text-container">
        <h1>Evan Pratten</h1>
        <p>
            Software Developer
        </p>
    </div>
</div>

        </div>
        <div class="navigation-bar">
            <hr>
            <p>
                <a href="/">Home</a> |
                <a href="/blog">Blog</a> |
                
                
                
                <a href="/contact">Contact</a>
                
                
                
            </p>
            <hr>
        </div>
        <div class="page-content">
            
<br><br>
<article class="markdown-body">
    
    <h1 style="border:none;margin-bottom:0;padding-bottom:0">Scraping FRC team&#x27;s GitHub accounts to gather large amounts of data</h1>
    <h3 style="margin-top:0;color:gray;padding-bottom:.3em;border-bottom:1px solid #eaecef;">
        <em>
            <span style="color:rgb(186, 186, 186)">/*</span>
            There are a lot of teams...
            <span style="color:rgb(186, 186, 186)">*/</span>
        </em>
    </h3>
    
    <div style="text-align: justify;">
        <p>I was curious about the most used languages for FRC, so I build a Python script to find out what they where. </p>
<h2 id="some-basic-data">Some basic data</h2>
<p>Before we get to the heavy work done by my script, let's start with some general data.</p>
<p>Thanks to the <a rel="noopener" target="_blank" href="https://www.thebluealliance.com/apidocs/v3">TBA API</a>, I know that there are 6917 registered teams. 492 of them have registered at least one account on GitHub.</p>
<h2 id="how-the-script-works">How the script works</h2>
<p>The script is split into steps:</p>
<ul>
<li>Get a list of every registered team</li>
<li>Check for a github account attached to every registered team
<ul>
<li>If a team has an account, it is added to the dataset</li>
</ul>
</li>
<li>Load each github profile
<ul>
<li>If it is a private account, move on</li>
<li>Use Regex to find all languages used</li>
</ul>
</li>
<li>Compile data and sort</li>
</ul>
<h3 id="getting-a-list-of-accounts">Getting a list of accounts</h3>
<p>This is probably the simplest step in the whole process. I used the auto-generated <a rel="noopener" target="_blank" href="https://github.com/TBA-API/tba-api-client-python">tbaapiv3client</a> python library's <code>get_teams_keys(key)</code> function, and kept incrementing <code>key</code> until I got an empty array. All returned data was then added together into a big list of team keys.</p>
<h3 id="checking-for-a-team-s-github-account">Checking for a team's github account</h3>
<p>The <a rel="noopener" target="_blank" href="https://www.thebluealliance.com/apidocs/v3">TBA API</a> helpfully provides a <code>/api/v3/team/&lt;number&gt;/social_media</code> API endpoint that will give the GitHub username for any team you request. (or nothing if they don't use github)</p>
<p>A <code>for</code> loop on this with a list of every team number did the trick for finding accounts.</p>
<h3 id="fetching-language-info">Fetching language info</h3>
<p>To remove the need for an Oauth login to use the script, GitHub data is retrieved using standard HTTPS requests instead of AJAX requests to the API. This gets around the tiny rate limit, but takes a bit longer to complete. </p>
<p>To check for language usage, a simple Regex pattern can be used: <code>/programmingLanguage&quot;\&gt;(.*)\&lt;/gm</code></p>
<p>When combined with an <code>re.findall()</code>, this pattern will return a list of all recent languages used by a team.</p>
<h3 id="data-saves-backup-solution">Data saves / backup solution</h3>
<p>To deal with the fact that large amounts of data are being requested, and people might want to pause the script, I have created a system to allow for &quot;savestates&quot;.</p>
<p>On launch of the script, it will check for a <code>./data.json</code> file. If this does not exist, one will be created. Otherwise, the contents will be read. This file contains both all the saved data, and some counters. </p>
<p>Each stage of the script contains a counter, and will increment the counter every time a team has been processed. This way, if the script is stopped and restarted, the parsers will just keep working from where they left off. This was very helpful when writing the script as, I needed to stop and start it every time I needed to implement a new feature.</p>
<p>All parsing data is saved to the json file every time the script completes, or it detects a <code>SIGKILL</code>.</p>
<h2 id="what-i-learned">What I learned</h2>
<p>After letting the script run for about an hour, I got a bunch of data from every registered team.</p>
<p>This data includes every project (both on and offseason) from each team, so teams that build t-shirt cannons using the CTRE HERO, would have C# in their list of languages. Things like that.</p>
<p>Unsurprisingly, by far the most popular programming language is Java, with 3232 projects. These projects where all mostly, or entirely written in Java. Next up, we have C++ with 725 projects, and Python with 468 projects. </p>
<p>After Java, C++, and Python, we start running in to languages used for dashboards, design, lessons, and offseason projects. Before I get to everything else, here is the usage of the rest of the valid languages for FRC robots:</p>
<ul>
<li>C (128)</li>
<li>LabView (153)</li>
<li>Kotlin (96)</li>
<li>Rust (4)</li>
</ul>
<p>Now, the rest of the languages below Python:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>295 occurrences of JavaScript
</span><span>153 occurrences of LabVIEW
</span><span>128 occurrences of C
</span><span>96 occurrences of Kotlin
</span><span>72 occurrences of Arduino
</span><span>71 occurrences of C#
</span><span>69 occurrences of CSS
</span><span>54 occurrences of PHP
</span><span>40 occurrences of Shell
</span><span>34 occurrences of Ruby
</span><span>16 occurrences of Swift
</span><span>16 occurrences of Jupyter Notebook
</span><span>15 occurrences of Scala
</span><span>12 occurrences of D
</span><span>12 occurrences of TypeScript
</span><span>9 occurrences of Dart
</span><span>8 occurrences of Processing
</span><span>7 occurrences of CoffeeScript
</span><span>6 occurrences of Go
</span><span>6 occurrences of Groovy
</span><span>6 occurrences of Objective-C
</span><span>4 occurrences of Rust
</span><span>3 occurrences of MATLAB
</span><span>3 occurrences of R
</span><span>1 occurrences of Visual Basic
</span><span>1 occurrences of Clojure
</span><span>1 occurrences of Cuda
</span></code></pre>
<p>I have removed markup and shell languages from that list because most of them are probably auto-generated.</p>
<p>In terms of github account names, 133 teams follow FRC convention and use a username starting with <code>frc</code>, followed by their team number, 95 teams use <code>team</code> then their number, and 264 teams use something else.</p>
<h2 id="using-the-script">Using the script</h2>
<p>This script is not on PYPI this time. You can obtain a copy from my GitHub repo: <a rel="noopener" target="_blank" href="https://github.com/Ewpratten/frc-code-stats">https://github.com/Ewpratten/frc-code-stats</a></p>
<p>First, make sure both <code>python3.7</code> and <code>python3-pip</code> are installed on your computer. Next, delete the <code>data.json</code> file. Then, install the requirements with <code>pip3 install -r requirements.txt</code>. Finally, run with <code>python3 main.py</code> to start the script. Now, go outside and enjoy nature for about an hour, and your data should be loaded!.</p>

    </div>

    
    
    <br>
    <hr>
    <script src="https://utteranc.es/client.js" repo="ewpratten/va3zza.com" issue-term="title" label="comment"
        theme="github-light" crossorigin="anonymous" async>
        </script>
    

</article>




        </div>

        <div id="footer">
            <p class="gray">-- EOF --</p>
            <p>
                <em>
                    <a href="https://github.com/ewpratten/va3zza.com"><i class="lab la-github"></i></a>
                    <a href="https://status.ewpratten.com"><i class="las la-info-circle"></i></a>
                    <a href="/rss.xml"><i class="las la-rss"></i></a><br>

                    Thanks for reading :)<br>
                    Site design & content by: <a href="/info">Evan Pratten</a><br>
                    Consider <a href="/donate" target="_blank">supporting my work</a> if you like what you see<br>

                </em>
            </p>
        </div>
    </div>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5912H4H03P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-5912H4H03P');
    </script>

    <script>
        if (window.performance && performance.getEntriesByType) { // avoid error in Safari 10, IE9- and other old browsers
            let navTiming = performance.getEntriesByType('navigation')
            if (navTiming.length > 0) { // still not supported as of Safari 14...
                let serverTiming = navTiming[0].serverTiming
                if (serverTiming && serverTiming.length > 0) {
                    for (let i = 0; i < serverTiming.length; i++) {
                        if (serverTiming[i].name == 'source') {
                            if (serverTiming[i].description == 'net44') {
                                document.getElementById('ampr-notice').style.display = 'block';
                            }
                        }
                    }
                }
            }
        }
    </script>

    
    <script>
        if (window.location.hostname == 'retrylife.ca') {
            window.location.href = window.location.href.replace('retrylife.ca', 'ewpratten.com');
        }
    </script>

    
    <a rel="me" href="https://social.ewpratten.com/@evan" style="display:none;"></a>
</body>

</html>